{"version":3,"file":"index.js","sources":["../node_modules/tslib/tslib.es6.js","../src/functions/helpers.ts","../src/components/DynamicComponent.tsx","../src/functions/componentFactory.tsx","../src/functions/constructForm.ts","../src/functions/validate.ts","../src/hook/useMakForm.tsx"],"sourcesContent":["/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n    if (value !== null && value !== void 0) {\r\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\r\n        var dispose;\r\n        if (async) {\r\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n            dispose = value[Symbol.asyncDispose];\r\n        }\r\n        if (dispose === void 0) {\r\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n            dispose = value[Symbol.dispose];\r\n        }\r\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n        env.stack.push({ value: value, dispose: dispose, async: async });\r\n    }\r\n    else if (async) {\r\n        env.stack.push({ async: true });\r\n    }\r\n    return value;\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n    function fail(e) {\r\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n        env.hasError = true;\r\n    }\r\n    function next() {\r\n        while (env.stack.length) {\r\n            var rec = env.stack.pop();\r\n            try {\r\n                var result = rec.dispose && rec.dispose.call(rec.value);\r\n                if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n            }\r\n            catch (e) {\r\n                fail(e);\r\n            }\r\n        }\r\n        if (env.hasError) throw env.error;\r\n    }\r\n    return next();\r\n}\r\n\r\nexport default {\r\n    __extends: __extends,\r\n    __assign: __assign,\r\n    __rest: __rest,\r\n    __decorate: __decorate,\r\n    __param: __param,\r\n    __metadata: __metadata,\r\n    __awaiter: __awaiter,\r\n    __generator: __generator,\r\n    __createBinding: __createBinding,\r\n    __exportStar: __exportStar,\r\n    __values: __values,\r\n    __read: __read,\r\n    __spread: __spread,\r\n    __spreadArrays: __spreadArrays,\r\n    __spreadArray: __spreadArray,\r\n    __await: __await,\r\n    __asyncGenerator: __asyncGenerator,\r\n    __asyncDelegator: __asyncDelegator,\r\n    __asyncValues: __asyncValues,\r\n    __makeTemplateObject: __makeTemplateObject,\r\n    __importStar: __importStar,\r\n    __importDefault: __importDefault,\r\n    __classPrivateFieldGet: __classPrivateFieldGet,\r\n    __classPrivateFieldSet: __classPrivateFieldSet,\r\n    __classPrivateFieldIn: __classPrivateFieldIn,\r\n    __addDisposableResource: __addDisposableResource,\r\n    __disposeResources: __disposeResources,\r\n};\r\n","import { MakFormComponentOutputType } from \"../types/index\"\nimport { GenericObject } from \"@mak-stack/mak-ui\"\n\nexport const isEmptyObject = (obj: GenericObject | undefined) => {\n  if (obj === undefined) return false\n\n  return isObject(obj) && Object.keys(obj).length === 0\n}\n\nexport const isNestedObject = (obj: GenericObject) =>\n  isObject(obj) && Object.values(obj).some(isObject)\n\nexport const isObject = (v: any): v is GenericObject =>\n  v !== null &&\n  typeof v === \"object\" &&\n  !Array.isArray(v) &&\n  typeof v !== \"string\"\n\nexport const deepMerge = (...objects: (GenericObject | undefined)[]) => {\n  const result = {}\n\n  const merge = (target: GenericObject, source: GenericObject) => {\n    Object.keys(source).forEach((key) => {\n      if (source[key] && typeof source[key] === \"object\") {\n        target[key] = target[key] || {}\n        merge(target[key], source[key])\n      } else {\n        target[key] = source[key]\n      }\n    })\n  }\n\n  for (const obj of objects) {\n    if (!isObject(obj)) continue\n    merge(result, obj)\n  }\n\n  return result\n}\n\nexport const getDifference = (\n  x: GenericObject | any[],\n  y: GenericObject | any[] = x,\n  isRoot: boolean = true\n): any => {\n  if (Array.isArray(x) && Array.isArray(y)) {\n    const temp: any[] = []\n    let allEqual = true\n    for (let i = 0; i < Math.max(x.length, y.length); i++) {\n      const diff = getDifference(x[i], y[i], false)\n      if (diff !== true) {\n        allEqual = false\n        temp[i] = diff\n      }\n    }\n    return isRoot\n      ? allEqual\n        ? { isEqual: true }\n        : { isEqual: false, object: temp }\n      : allEqual\n      ? true\n      : temp\n  } else if (isObject(x) && isObject(y)) {\n    const temp: GenericObject = {}\n    let allEqual = true\n    for (const key of new Set([...Object.keys(x), ...Object.keys(y)])) {\n      if (typeof key === \"string\") {\n        const val1 = (x as GenericObject)[key]\n        const val2 = (y as GenericObject)[key]\n        if (key in x && key in y) {\n          const diff = getDifference(val1, val2, false)\n          if (diff !== true) {\n            allEqual = false\n            temp[key] = diff\n          }\n        } else {\n          allEqual = false\n          temp[key] = false\n        }\n      }\n    }\n    return isRoot\n      ? allEqual\n        ? { isEqual: true }\n        : { isEqual: false, object: temp }\n      : allEqual\n      ? true\n      : temp\n  } else {\n    return x === y\n  }\n}\n\nexport const isEqual = (x: any, y: any): boolean => {\n  const diffResult = getDifference(x, y, true)\n\n  if (typeof diffResult === \"boolean\") {\n    return diffResult\n  } else if (diffResult && typeof diffResult === \"object\") {\n    return diffResult.isEqual\n  } else {\n    return false\n  }\n}\n\nexport const mergeWithFallback = (primary: any, fallback: any) => {\n  const result = { ...fallback, ...primary }\n  Object.keys(fallback).forEach((key) => {\n    if (primary[key] === undefined) {\n      result[key] = fallback[key]\n    }\n  })\n  return result\n}\n\nexport const ensureSingleElementType = ({\n  useMakElements,\n  useHTMLElements,\n  useMakComponents,\n}: {\n  useMakElements?: boolean\n  useHTMLElements?: boolean\n  useMakComponents?: boolean\n}): MakFormComponentOutputType => {\n  let elementTypeObject: { [Key in MakFormComponentOutputType]: boolean } = {\n    makElements: useMakElements || false,\n    htmlElements: useHTMLElements || false,\n    makComponents: useMakComponents || false,\n  }\n  if (useMakElements) {\n    elementTypeObject[\"htmlElements\"] = false\n    elementTypeObject[\"makComponents\"] = false\n    elementTypeObject[\"makElements\"] = true\n  } else if (useHTMLElements) {\n    elementTypeObject[\"makElements\"] = false\n    elementTypeObject[\"makComponents\"] = false\n    elementTypeObject[\"htmlElements\"] = true\n  }\n\n  console.log(elementTypeObject)\n\n  if (!useMakComponents && !useHTMLElements && !useMakElements) {\n    elementTypeObject[\"makElements\"] = true\n  }\n\n  return Object.keys(elementTypeObject).find(\n    (key) => elementTypeObject[key as MakFormComponentOutputType]\n  ) as MakFormComponentOutputType\n}\n\nexport const getValueObjectsArray = (value: any, options: any[]) => {\n  if (!value || options.length === 0) return []\n  value = Array.isArray(value) ? value : [value]\n  return options?.filter((option) => {\n    if (Array.isArray(value as any[]) && option?.value) {\n      return (value as any[])?.includes(option?.value)\n    }\n  })\n}\n","import React, {\n  ButtonHTMLAttributes,\n  InputHTMLAttributes,\n  RefObject,\n  SelectHTMLAttributes,\n  memo,\n  useRef,\n  useState,\n} from \"react\"\nimport { mak } from \"@mak-stack/mak-ui\"\nimport {\n  FieldType,\n  InputChangeEvent,\n  MakFormChildrenProps,\n  MakFormDynamicComponentProps,\n  MakFormFieldConfig,\n  MakFormValidationOption,\n} from \"../types/index\"\nimport { FormAccessor } from \"../hook/useMakForm\"\nimport { getValueObjectsArray } from \"../functions/helpers\"\n\ntype DynamicComponentProps = MakFormDynamicComponentProps &\n  FormAccessor & {\n    config: MakFormFieldConfig\n    name: string\n    type: FieldType\n    label: string\n    formOnSubmit?: FormAccessor[\"onSubmit\"]\n    formOnReset?: FormAccessor[\"onReset\"]\n    validateOn: MakFormValidationOption\n    revalidateOn: MakFormValidationOption\n  }\n\nconst DynamicComponentStruct = (props: DynamicComponentProps) => {\n  const {\n    form,\n    config,\n    children,\n    customComponent,\n\n    handleChange,\n    outputType,\n    type,\n    name,\n    label,\n    defaultValue,\n    className,\n    makClassName,\n    pattern,\n    value,\n    valueObjects,\n    placeholder,\n    options,\n    labelKey,\n    valueKey,\n    multiple,\n\n    onClick,\n    onBlur,\n    onFocus,\n    onSubmit,\n    onReset,\n    onChange,\n    formOnSubmit,\n    formOnReset,\n    validateOn,\n    revalidateOn,\n    formRef,\n    ...otherProps\n  } = props\n\n  const [localValue, setLocalValue] = useState(value)\n  const componentRef = useRef<HTMLElement>(null)\n  console.log({ outputType })\n\n  const handleLocalChange = (e: InputChangeEvent) => {\n    if (multiple && e.target instanceof HTMLSelectElement) {\n      const selectedOptions = e.target.selectedOptions\n\n      const selectedValues = Array.from(selectedOptions).map(\n        (option) => option.value\n      )\n      setLocalValue(selectedValues)\n      const event = {\n        target: { name, value: selectedValues || value, type },\n      } as InputChangeEvent\n      handleChange({ event, validateOn, revalidateOn })\n    } else {\n      setLocalValue(e.target.value)\n      const event = {\n        target: { name, value: e.target.value || value, type },\n      } as InputChangeEvent\n\n      handleChange({ event, validateOn, revalidateOn })\n    }\n    onChange && onChange(e)\n  }\n\n  const resolvedChildrenProps = {\n    ...props,\n    handleChange: handleLocalChange,\n    value: localValue,\n    valueObjects: getValueObjectsArray(localValue, options || []),\n  } as MakFormChildrenProps\n  if (customComponent) {\n    if (typeof customComponent === \"function\") {\n      const CustomComponent = customComponent\n      return <CustomComponent {...resolvedChildrenProps} />\n    }\n  }\n\n  if (children && typeof children === \"function\") {\n    return children(resolvedChildrenProps)\n  }\n\n  if (type === \"button\" || type === \"submit\" || type === \"reset\") {\n    const isSubmit = type === \"submit\"\n    const isReset = type === \"reset\"\n\n    const onClickAction = () => {\n      if (isSubmit && !onSubmit) {\n        return formOnSubmit && formOnSubmit()\n      }\n      if (isSubmit && onSubmit) {\n        return onSubmit()\n      }\n      if (isReset && !onReset) {\n        return formOnReset && formOnReset()\n      }\n      if (isReset && onReset) {\n        return onReset()\n      }\n      return onClick ? onClick() : () => {}\n    }\n\n    if (outputType === \"htmlElements\") {\n      return (\n        <button\n          value={value as ButtonHTMLAttributes<HTMLButtonElement>[\"value\"]}\n          onClick={onClickAction}\n          onSubmit={onClickAction}\n          onReset={onReset}\n          onBlur={onBlur}\n          onFocus={onFocus}\n          className={className}\n          ref={componentRef as RefObject<HTMLButtonElement>}\n          {...otherProps}\n        >\n          {children ? children : label}\n        </button>\n      )\n    }\n\n    if (outputType === \"makElements\") {\n      return (\n        <mak.button\n          value={value as ButtonHTMLAttributes<HTMLButtonElement>[\"value\"]}\n          onClick={onClickAction}\n          onSubmit={onClickAction}\n          onReset={onReset}\n          onBlur={onBlur}\n          onFocus={onFocus}\n          className={className}\n          makClassName={makClassName}\n          ref={componentRef as RefObject<HTMLButtonElement>}\n          {...otherProps}\n        >\n          {children ? children : label}\n        </mak.button>\n      )\n    }\n  }\n\n  if (type === \"select\" && outputType === \"htmlElements\") {\n    return (\n      <select\n        onChange={handleLocalChange}\n        onBlur={onBlur}\n        className={className}\n        value={localValue as SelectHTMLAttributes<HTMLSelectElement>[\"value\"]}\n        defaultValue={\n          (defaultValue as SelectHTMLAttributes<HTMLSelectElement>[\"value\"]) ||\n          \"\"\n        }\n        ref={componentRef as RefObject<HTMLSelectElement>}\n        {...otherProps}\n      >\n        {placeholder && (\n          <option value=\"\" disabled>\n            {placeholder as string}\n          </option>\n        )}\n        {(options || []).map((option) => {\n          return (\n            <option\n              key={option[valueKey as keyof typeof option]}\n              value={option[valueKey as keyof typeof option]}\n            >\n              {option[labelKey as keyof typeof option]}\n            </option>\n          )\n        })}\n      </select>\n    )\n  }\n\n  if (\n    [\"select\", \"multi-select\"].includes(type) &&\n    outputType === \"makElements\"\n  ) {\n    return (\n      <mak.select\n        onChange={handleLocalChange}\n        onBlur={onBlur}\n        className={className}\n        makClassName={makClassName}\n        value={localValue as SelectHTMLAttributes<HTMLSelectElement>[\"value\"]}\n        defaultValue={\n          (defaultValue as SelectHTMLAttributes<HTMLSelectElement>[\"value\"]) ||\n          \"\"\n        }\n        multiple={multiple}\n        ref={componentRef as RefObject<HTMLSelectElement>}\n        {...otherProps}\n      >\n        {placeholder && (\n          <option value=\"\" disabled>\n            {placeholder as string}\n          </option>\n        )}\n        {(options || []).map((option) => {\n          return (\n            <option\n              key={option[valueKey as keyof typeof option]}\n              value={option[valueKey as keyof typeof option]}\n            >\n              {option[labelKey as keyof typeof option]}\n            </option>\n          )\n        })}\n      </mak.select>\n    )\n  }\n\n  if (outputType === \"htmlElements\") {\n    return (\n      <input\n        type={type}\n        value={localValue as InputHTMLAttributes<HTMLInputElement>[\"value\"]}\n        onChange={handleLocalChange}\n        onBlur={onBlur}\n        className={className}\n        placeholder={placeholder as string}\n        defaultValue={defaultValue as string}\n        ref={componentRef as RefObject<HTMLInputElement>}\n        {...otherProps}\n      />\n    )\n  }\n\n  // if (outputType === \"makElements\") {\n  //   return (\n  //     <mak.input\n  //       type={type}\n  //       value={localValue as InputHTMLAttributes<HTMLInputElement>[\"value\"]}\n  //       onChange={handleLocalChange}\n  //       onBlur={onBlur}\n  //       className={className}\n  //       makClassName={makClassName}\n  //       defaultValue={defaultValue as string}\n  //       placeholder={placeholder as string}\n  //       ref={componentRef as RefObject<HTMLInputElement>}\n  //       {...otherProps}\n  //     />\n  //   )\n  // }\n}\n\nconst DynamicComponent = memo(DynamicComponentStruct)\n\nexport default DynamicComponent\n","import DynamicComponent from \"../components/DynamicComponent\"\nimport {\n  BooleanFieldConfig,\n  BoundedRangeFieldConfig,\n  FieldType,\n  MakForm,\n  MakFormComponentOutputType,\n  MakFormDynamicComponent,\n  MakFormFieldConfig,\n  NumberFieldConfig,\n  SelectFieldConfig,\n  TextFieldConfig,\n} from \"../types/index\"\nimport { FormAccessor } from \"../hook/useMakForm\"\nimport { getValueObjectsArray } from \"./helpers\"\nimport React from \"react\"\n\nexport const getComponentName = (fieldName: string) => {\n  const words = fieldName.split(/[\\s-_]+/)\n\n  return words\n    .map((word) => word.charAt(0).toUpperCase() + word.slice(1))\n    .join(\"\")\n}\n\nexport const getInitialComponentNames = ({\n  formConfig,\n}: {\n  formConfig: MakForm | undefined\n}) => {\n  const dummyComponents = {} as any\n  Object.keys(formConfig || {}).forEach((fieldName) => {\n    const name = getComponentName(fieldName)\n    dummyComponents[name] = () => <div />\n  })\n  if (!formConfig?.Submit) {\n    dummyComponents[\"Submit\"] = () => <div />\n  }\n\n  return dummyComponents\n}\n\ninterface ComponentFactoryProps {\n  formAccessor: FormAccessor\n  name: string\n  outputType: MakFormComponentOutputType\n}\n\nconst componentFactory = ({\n  formAccessor,\n  name,\n}: ComponentFactoryProps): MakFormDynamicComponent => {\n  const {\n    form,\n    formRef,\n    validateFormOn,\n    revalidateFormOn,\n    onSubmit: formOnSubmit,\n    onReset: formOnReset,\n    outputType,\n    handleChange,\n  } = formAccessor\n\n  const config = form[name] as MakFormFieldConfig\n\n  const type: FieldType = (form[name] as MakFormFieldConfig)?.type || \"text\"\n  const label = config?.label\n  const required = config?.required\n  const defaultValue = config?.defaultValue\n  const disabled = config?.disabled\n  const className = config?.className\n  const makClassName = config?.makClassName\n  const value = config?.value\n  const placeholder = config?.placeholder\n  const readonly = config?.readonly\n  const hide = config?.hide\n  const autoFocus = config?.autoFocus\n  const autoComplete = config?.autoComplete\n  const pattern = config?.pattern\n\n  // \"text\" | \"password\"\n  const minLength = (config as TextFieldConfig)?.minLength\n  const maxLength = (config as TextFieldConfig)?.maxLength\n\n  // \"select\" | \"radio\" | \"multi-select\" | \"searchable-select\"\n  const options = (config as SelectFieldConfig)?.options\n  const valueObjects = getValueObjectsArray(value || defaultValue, options)\n  const labelKey = (config as SelectFieldConfig)?.labelKey || \"label\"\n  const valueKey = (config as SelectFieldConfig)?.valueKey || \"value\"\n  const multiple = (config as SelectFieldConfig)?.multiple\n  const size = (config as SelectFieldConfig)?.size\n  const searchable = (config as SelectFieldConfig)?.searchable\n  const clearable = (config as SelectFieldConfig)?.clearable\n  const dismissOnClick = (config as SelectFieldConfig)?.dismissOnClick\n  const onClick = config?.onClick\n  const onBlur = config?.onBlur\n  const onFocus = config?.onFocus\n  const onSubmit = config?.onSubmit\n  const onReset = config?.onReset\n  const onChange = (props: any) => {\n    config?.onChange\n    handleChange\n  }\n  const validateOn = config?.validateOn || validateFormOn || \"submit\"\n  const revalidateOn = config?.revalidateOn || revalidateFormOn || \"change\"\n  // \"boolean\"\n  const checked = (config as BooleanFieldConfig)?.checked\n\n  // \"number\" | \"range\" | \"bounded-range\"\n  const min = (config as NumberFieldConfig)?.min\n  const max = (config as NumberFieldConfig)?.max\n  const step = (config as NumberFieldConfig)?.step\n\n  // \"bounded-range\"\n  const min0 = (config as BoundedRangeFieldConfig)?.min0\n  const max0 = (config as BoundedRangeFieldConfig)?.max0\n  const min1 = (config as BoundedRangeFieldConfig)?.min1\n  const max1 = (config as BoundedRangeFieldConfig)?.max1\n  const step0 = (config as BoundedRangeFieldConfig)?.step0\n  const step1 = (config as BoundedRangeFieldConfig)?.step1\n  const range = (config as BoundedRangeFieldConfig)?.range\n  const defaultValue0 = (config as BoundedRangeFieldConfig)?.defaultValue0\n  const defaultValue1 = (config as BoundedRangeFieldConfig)?.defaultValue1\n  const value0 = (config as BoundedRangeFieldConfig)?.value0\n  const value1 = (config as BoundedRangeFieldConfig)?.value1\n  const disabled0 = (config as BoundedRangeFieldConfig)?.disabled0\n  const disabled1 = (config as BoundedRangeFieldConfig)?.disabled1\n\n  const fieldValue = value ?? defaultValue\n\n  // const selectFieldValue =\n  //   fieldValue && typeof fieldValue === \"string\"\n  //     ? String(fieldValue)\n  //     : Array.isArray(fieldValue)\n  //     ? fieldValue.map(String)\n  //     : undefined\n\n  const hookProps = {\n    form,\n    handleChange,\n    formRef,\n    validateOn,\n    revalidateOn,\n    validateFormOn,\n    revalidateFormOn,\n\n    config,\n    type,\n    label,\n    required,\n    placeholder,\n    disabled,\n    className,\n    makClassName,\n    value: fieldValue,\n    name,\n\n    readonly,\n    hide,\n    autoFocus,\n    autoComplete,\n    pattern,\n    minLength,\n    maxLength,\n    options,\n    labelKey,\n    valueKey,\n    multiple,\n    size,\n    searchable,\n    clearable,\n    dismissOnClick,\n    checked,\n    min,\n    max,\n    step,\n    min0,\n    max0,\n    min1,\n    max1,\n    step0,\n    step1,\n    range,\n    defaultValue,\n    defaultValue0,\n    defaultValue1,\n    value0,\n    value1,\n    valueObjects,\n    disabled0,\n    disabled1,\n\n    onClick,\n    onBlur,\n    onFocus,\n    onSubmit,\n    onReset,\n    onChange,\n    formOnSubmit,\n    formOnReset,\n  }\n  const ComponentWrapper = (props: Record<string, unknown>) => {\n    return (\n      <DynamicComponent outputType={outputType} {...hookProps} {...props} />\n    )\n  }\n\n  ComponentWrapper.displayName = `${getComponentName(name)}`\n\n  return ComponentWrapper\n}\n\nexport default componentFactory\n\nconst constructDynamicComponents = (formAccessor: FormAccessor) => {\n  const { form, outputType } = formAccessor\n\n  return Object.keys(form || {}).reduce((acc, name) => {\n    const componentName = getComponentName(name) as FieldType\n    const component = componentFactory({\n      name,\n      formAccessor,\n      outputType,\n    })\n\n    return {\n      ...acc,\n      [componentName]: component,\n    }\n  }, {})\n}\n\nexport { constructDynamicComponents }\n","import {\n  BooleanFieldConfig,\n  BoundedRangeFieldConfig,\n  MakForm,\n  MakFormElement,\n  NumberFieldConfig,\n  SelectFieldConfig,\n  TextFieldConfig,\n} from \"../types/index\"\nimport { FormAccessor } from \"../hook/useMakForm\"\n\nimport componentFactory from \"./componentFactory\"\n\nconst constructForm = (formAccessor: FormAccessor): MakForm => {\n  const { form, outputType } = formAccessor\n  const constructedForm = {} as MakForm\n\n  Object.keys(form || {}).forEach((name) => {\n    const config = form[name] as MakFormElement\n\n    const children = config?.children\n    const customComponent = config?.customComponent\n\n    const type = form[name]?.type || \"text\"\n    const label = config?.label\n    const required = config?.required\n    const defaultValue = config?.defaultValue\n    const disabled = config?.disabled\n    const className = config?.className\n    const makClassName = config?.makClassName\n    const value = config?.value || defaultValue\n    const placeholder = config?.placeholder\n    const readonly = config?.readonly\n    const hide = config?.hide\n    const autoFocus = config?.autoFocus\n    const autoComplete = config?.autoComplete\n    const pattern = config?.pattern\n\n    // \"text\" | \"password\"\n    const minLength = (config as TextFieldConfig)?.minLength\n    const maxLength = (config as TextFieldConfig)?.maxLength\n\n    // \"select\" | \"radio\" | \"multi-select\" | \"searchable-select\"\n    const options = (config as SelectFieldConfig)?.options\n    const labelKey = (config as SelectFieldConfig)?.labelKey || \"label\"\n    const valueKey = (config as SelectFieldConfig)?.valueKey || \"value\"\n    const multiple = (config as SelectFieldConfig)?.multiple\n    const size = (config as SelectFieldConfig)?.size\n    const searchable = (config as SelectFieldConfig)?.searchable\n    const clearable = (config as SelectFieldConfig)?.clearable\n    const dismissOnClick = (config as SelectFieldConfig)?.dismissOnClick\n    const onClick = config?.onClick\n    const onBlur = config?.onBlur\n    const onFocus = config?.onFocus\n    const onSubmit = config?.onSubmit\n    const onReset = config?.onReset\n    const validateOn = config?.validateOn\n\n    // \"boolean\"\n    const checked = (config as BooleanFieldConfig)?.checked\n\n    // \"number\" | \"range\" | \"bounded-range\"\n    const min = (config as NumberFieldConfig)?.min\n    const max = (config as NumberFieldConfig)?.max\n    const step = (config as NumberFieldConfig)?.step\n\n    // \"bounded-range\"\n    const min0 = (config as BoundedRangeFieldConfig)?.min0\n    const max0 = (config as BoundedRangeFieldConfig)?.max0\n    const min1 = (config as BoundedRangeFieldConfig)?.min1\n    const max1 = (config as BoundedRangeFieldConfig)?.max1\n    const step0 = (config as BoundedRangeFieldConfig)?.step0\n    const step1 = (config as BoundedRangeFieldConfig)?.step1\n    const range = (config as BoundedRangeFieldConfig)?.range\n    const defaultValue0 = (config as BoundedRangeFieldConfig)?.defaultValue0\n    const defaultValue1 = (config as BoundedRangeFieldConfig)?.defaultValue1\n    const value0 = (config as BoundedRangeFieldConfig)?.value0\n    const value1 = (config as BoundedRangeFieldConfig)?.value1\n    const disabled0 = (config as BoundedRangeFieldConfig)?.disabled0\n    const disabled1 = (config as BoundedRangeFieldConfig)?.disabled1\n\n    const component = componentFactory({\n      name,\n      formAccessor,\n      outputType,\n    })\n\n    const configOutput = {\n      config,\n      children,\n      customComponent,\n\n      type,\n      label,\n      required,\n      placeholder,\n      disabled,\n      className,\n      makClassName,\n      value,\n      name,\n\n      readonly,\n      hide,\n      autoFocus,\n      autoComplete,\n      pattern,\n      minLength,\n      maxLength,\n      options,\n      labelKey,\n      valueKey,\n      multiple,\n      size,\n      searchable,\n      clearable,\n      dismissOnClick,\n      checked,\n      min,\n      max,\n      step,\n      min0,\n      max0,\n      min1,\n      max1,\n      step0,\n      step1,\n      range,\n      defaultValue,\n      defaultValue0,\n      defaultValue1,\n      value0,\n      value1,\n      disabled0,\n      disabled1,\n\n      onClick,\n      onBlur,\n      onFocus,\n      onSubmit,\n      onReset,\n\n      validateOn,\n    } as MakFormElement\n\n    constructedForm[name] = {\n      ...configOutput,\n      component,\n      errors: undefined,\n    }\n  })\n\n  return constructedForm\n}\n\nexport default constructForm\n","import {\n  BoundedRangeFieldConfig,\n  FieldType,\n  MakForm,\n  MakFormErrors,\n  MakFormFieldConfig,\n  MakFormValidationOption,\n  NumberFieldConfig,\n  TextFieldConfig,\n} from \"../types/index\"\n\nconst validateField = ({\n  form,\n  fieldName,\n  value,\n}: {\n  form: MakForm\n  fieldName: string\n  value: any\n}) => {\n  const config = form[fieldName] as MakFormFieldConfig\n  const label = config?.label\n  const type: FieldType =\n    (form[fieldName] as MakFormFieldConfig)?.type || \"text\"\n  const required = config?.required || false\n  const pattern = RegExp(config?.pattern || \".*\")\n\n  const minLength = (config as TextFieldConfig)?.minLength\n  const maxLength = (config as TextFieldConfig)?.maxLength\n\n  const min = (config as NumberFieldConfig)?.min\n  const max = (config as NumberFieldConfig)?.max\n\n  const min0 = (config as BoundedRangeFieldConfig)?.min0\n  const max0 = (config as BoundedRangeFieldConfig)?.max0\n  const min1 = (config as BoundedRangeFieldConfig)?.min1\n  const max1 = (config as BoundedRangeFieldConfig)?.max1\n\n  const errors = {} as MakFormErrors\n\n  if (required && !value) {\n    const errorString = `${label} is required.`\n    // setFormErrors((prev) => ({\n    //   ...prev,\n    //   [fieldName]: errorString,\n    // }))\n    errors[fieldName] = errorString\n    return errors\n  }\n\n  if (pattern && !pattern.test(value)) {\n    const errorString = \"Invalid format.\"\n    // setFormErrors((prev) => ({ ...prev, [fieldName]: errorString }))\n    errors[fieldName] = errorString\n    return errors\n  }\n\n  if (typeof value === \"string\") {\n    const errorString = `Minimum length is ${minLength}.`\n    if (minLength !== undefined && value.length < minLength) {\n      // setFormErrors((prev) => ({\n      //   ...prev,\n      //   [fieldName]: errorString,\n      // }))\n      errors[fieldName] = errorString\n      return errors\n    }\n    if (maxLength !== undefined && value.length > maxLength) {\n      const errorString = `Maximum length is ${maxLength}.`\n      // setFormErrors((prev) => ({\n      //   ...prev,\n      //   [fieldName]: `Maximum length is ${maxLength}.`,\n      // }))\n      errors[fieldName] = errorString\n      return errors\n    }\n  }\n\n  if (type === \"number\" && typeof value === \"number\") {\n    const errorString = `Minimum value is ${min}.`\n    if (min !== undefined && value < min) {\n      // setFormErrors((prev) => ({\n      //   ...prev,\n      //   [fieldName]: errorString,\n      // }))\n      errors[fieldName] = errorString\n      return errors\n    }\n    if (max !== undefined && value > max) {\n      const errorString = `Maximum value is ${max}.`\n      // setFormErrors((prev) => ({\n      //   ...prev,\n      //   [fieldName]: errorString,\n      // }))\n      errors[fieldName] = errorString\n      return errors\n    }\n  }\n\n  errors[fieldName] = undefined\n\n  return errors\n}\n\nconst validateForm = ({ form }: { form: MakForm }) => {\n  const errors = {} as MakFormErrors\n\n  Object.keys(form).forEach((fieldName) => {\n    if (fieldName === \"submit\" || fieldName === \"reset\") return\n\n    const value = form?.[fieldName]?.value || form?.[fieldName]?.defaultValue\n\n    const validation = validateField({\n      fieldName,\n      value,\n      form,\n    })\n\n    if (Object.entries(validation).some(([_, error]) => error)) {\n      // errors[fieldName] = error\n      errors[fieldName] = validation[fieldName]\n    } else {\n      errors[fieldName] = undefined\n    }\n  })\n\n  // setFormErrors((prev) => errors)\n  return errors\n}\n\nexport { validateField, validateForm }\n","import {\n  constructDynamicComponents,\n  getInitialComponentNames,\n} from \"../functions/componentFactory\"\nimport constructForm from \"../functions/constructForm\"\nimport { ensureSingleElementType } from \"../functions/helpers\"\nimport React, { useEffect, useRef, useState } from \"react\"\n\nimport {\n  InputChangeEvent,\n  MakForm,\n  MakFormComponentOutputType,\n  MakFormDynamicComponents,\n  MakFormErrors,\n  MakFormInput,\n  MakFormValidationOption,\n} from \"../types/index\"\nimport { validateField, validateForm } from \"../functions/validate\"\n\ninterface MakFormProps {\n  formConfig?: MakFormInput\n  onSubmit?: (input?: any) => void\n  onReset?: (input?: any) => void\n  useMakElements?: boolean\n  useHTMLElements?: boolean\n  useMakComponents?: boolean\n  validateFormOn?: MakFormValidationOption\n  revalidateFormOn?: MakFormValidationOption\n}\n\nexport interface FormAccessor {\n  form: MakForm\n  handleChange: ({\n    event,\n    validateOn,\n  }: {\n    event: InputChangeEvent\n    validateOn: MakFormValidationOption\n    revalidateOn?: MakFormValidationOption\n  }) => void\n  formRef: React.MutableRefObject<MakForm | undefined>\n  outputType: MakFormComponentOutputType\n  onSubmit?: (input?: any) => void\n  onReset?: (input?: any) => void\n  validateFormOn?: MakFormValidationOption\n  revalidateFormOn?: MakFormValidationOption\n}\n\nexport const useMakForm = ({\n  formConfig,\n  useMakElements,\n  useHTMLElements,\n  useMakComponents,\n  onSubmit,\n  onReset,\n  validateFormOn = \"submit\",\n  revalidateFormOn = \"none\",\n}: MakFormProps) => {\n  const outputType = ensureSingleElementType({\n    useMakElements,\n    useHTMLElements,\n    useMakComponents,\n  })\n\n  console.log({ makFormoutputtype: outputType })\n\n  const formRef = useRef<MakForm>()\n  const errorsRef = useRef<MakFormErrors>({})\n  const beforeValidationErrorsRef = useRef<MakFormErrors>({})\n  const [form, setForm] = useState<MakForm>(formConfig || {})\n  const [formErrors, setFormErrors] = useState<MakFormErrors>(\n    Object.entries(formConfig || {}).reduce((acc, [key, value]) => {\n      if (![\"button\", \"submit\", \"reset\"].includes((value as any)?.type)) {\n        ;(acc as MakFormErrors)[key] = undefined\n      }\n      return acc\n    }, {})\n  )\n  const [dynamicComponents, setDynamicComponents] =\n    useState<MakFormDynamicComponents>(getInitialComponentNames({ formConfig }))\n  const [isDirty, setIsDirty] = useState(false)\n  const [isClean, setIsClean] = useState(true)\n\n  useEffect(() => {\n    setIsClean(!isDirty)\n  }, [isDirty])\n\n  const formAccessor: FormAccessor = {\n    form,\n    handleChange,\n    outputType,\n    onSubmit: handleSubmit,\n    onReset: handleReset,\n    validateFormOn,\n    revalidateFormOn,\n    formRef,\n  }\n\n  function handleChange({\n    event,\n    validateOn,\n    revalidateOn,\n  }: {\n    event: InputChangeEvent\n    validateOn: MakFormValidationOption\n    revalidateOn?: MakFormValidationOption\n  }) {\n    setIsDirty(true)\n    const target = event.target as HTMLInputElement\n\n    const value = target?.type === \"checkbox\" ? target.checked : target.value\n    const fieldName = target.name\n\n    let validation: string | undefined = undefined\n\n    if (validateOn === \"change\" || validateFormOn === \"change\") {\n      validation = validateField({\n        form,\n        fieldName,\n        value,\n      })?.[fieldName] as string | undefined\n\n      setFormErrors((prev) => {\n        const updatedErrors = {\n          ...prev,\n          [fieldName]: validation,\n        }\n        return updatedErrors as MakFormErrors\n      })\n    }\n    if (\n      errorsRef.current?.[fieldName] &&\n      (revalidateFormOn === \"change\" || revalidateOn === \"change\")\n    ) {\n      validation = validateField({\n        form,\n        fieldName,\n        value,\n      })?.[fieldName] as string | undefined\n\n      setFormErrors((prev) => {\n        const updatedErrors = {\n          ...prev,\n          [fieldName]: validation,\n        }\n        return updatedErrors as MakFormErrors\n      })\n    }\n\n    setForm((prev): MakForm => {\n      const updatedForm = {\n        ...prev,\n        [fieldName]: {\n          ...prev[fieldName],\n          ...target,\n          errors: validation,\n        },\n      }\n      return updatedForm as MakForm\n    })\n\n    beforeValidationErrorsRef.current = validateForm({\n      form: formRef.current || {},\n    })\n  }\n\n  function handleSubmit() {\n    const validation = validateForm({ form: formRef.current || {} })\n\n    setFormErrors(validation)\n    if (formErrors && Object.values(validation).some((error) => error)) {\n      return\n    }\n    if (onSubmit) {\n      onSubmit(formRef.current)\n    }\n    constructFormAndComponents()\n  }\n\n  function handleReset() {\n    if (onReset) {\n      onReset()\n    } else {\n      constructFormAndComponents()\n    }\n  }\n\n  const constructFormAndComponents = () => {\n    if (!formConfig) return\n    const constructedForm = constructForm(formAccessor)\n    setForm(constructedForm)\n    setDynamicComponents(constructDynamicComponents(formAccessor))\n    setIsDirty(false)\n  }\n\n  const getFormValues = () => {\n    if (!formRef.current) return\n    const formValues = Object.entries(formRef.current).reduce(\n      (acc, [key, value]) => {\n        if (value?.type !== \"submit\" && value?.type !== \"reset\") {\n          ;(acc as any)[key] = value?.value\n        }\n        return acc\n      },\n      {}\n    )\n\n    return formValues\n  }\n\n  useEffect(() => {\n    constructFormAndComponents()\n  }, [formConfig])\n\n  useEffect(() => {\n    formRef.current = form\n  }, [form])\n\n  useEffect(() => {\n    errorsRef.current = formErrors\n  }, [formErrors])\n\n  return {\n    form,\n    components: dynamicComponents,\n    errors: formErrors,\n    formState: {\n      errors: beforeValidationErrorsRef.current,\n      values: getFormValues(),\n      dirty: isDirty,\n      clean: isClean,\n    },\n    reset: handleReset,\n    submit: handleSubmit,\n  } as {\n    components: MakFormDynamicComponents\n    form: MakForm\n    formState: {\n      errors: MakFormErrors\n      values: any\n      dirty: boolean\n      clean: boolean\n    }\n    errors: MakFormErrors\n    reset: () => void\n    submit: () => void\n  }\n}\n\nexport default useMakForm\n"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","SuppressedError","error","suppressed","message","Error","name","ensureSingleElementType","useMakElements","useHTMLElements","useMakComponents","elementTypeObject","makElements","htmlElements","makComponents","console","log","keys","find","key","getValueObjectsArray","value","options","Array","isArray","filter","option","includes","DynamicComponentStruct","props","form","config","children","customComponent","handleChange","outputType","type","label","defaultValue","className","makClassName","pattern","valueObjects","placeholder","labelKey","valueKey","multiple","onClick","onBlur","onFocus","onSubmit","onReset","onChange","formOnSubmit","formOnReset","validateOn","revalidateOn","formRef","otherProps","localValue","setLocalValue","useState","componentRef","useRef","handleLocalChange","target","HTMLSelectElement","selectedOptions","selectedValues","from","map","event","resolvedChildrenProps","assign","CustomComponent","React","createElement","isSubmit","isReset","onClickAction","_extends","ref","mak","button","disabled","select","DynamicComponent","memo","getComponentName","fieldName","words","split","word","charAt","toUpperCase","slice","join","getInitialComponentNames","formConfig","dummyComponents","forEach","Submit","componentFactory","formAccessor","validateFormOn","revalidateFormOn","_a","required","readonly","hide","autoFocus","autoComplete","minLength","maxLength","size","searchable","clearable","dismissOnClick","checked","min","max","step","min0","max0","min1","max1","step0","step1","range","defaultValue0","defaultValue1","value0","value1","disabled0","disabled1","fieldValue","hookProps","ComponentWrapper","displayName","constructDynamicComponents","reduce","acc","componentName","component","constructForm","constructedForm","configOutput","errors","undefined","validateField","RegExp","errorString","test","validateForm","_b","validation","entries","some","_","useMakForm","makFormoutputtype","errorsRef","beforeValidationErrorsRef","setForm","formErrors","setFormErrors","dynamicComponents","setDynamicComponents","isDirty","setIsDirty","isClean","setIsClean","useEffect","handleSubmit","handleReset","prev","updatedErrors","current","_c","updatedForm","values","constructFormAndComponents","getFormValues","formValues","components","formState","dirty","clean","reset","submit"],"mappings":"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"}